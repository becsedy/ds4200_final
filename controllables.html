<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Diabetes, Demographic Information</title>

  <!-- CSS and Vega/Vega-Lite -->
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
  <style>
    .graph-wrapper {
      max-width: 960px;
      margin: 2rem auto;
      padding: 1.5rem;
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.05);
      text-align: center;
    }

    .graph-wrapper h2 {
      font-size: 1.6rem;
      margin-bottom: 1rem;
      color: #1f2937;
    }

    .graph-wrapper img {
      width: 100%;
      height: auto;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="navbar__container">
      <a href="index.html" id="navbar__logo">
        <span class="logo-long">Group 26</span>
        <span class="logo-short">G26</span>
      </a>
      <div class="navbar__toggle" id="mobile-menu">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </div>
      <ul class="navbar__menu">
        <li class="navbar__item">
          <a href="uncont.html" class="navbar__links">Uncontrollable Factors</a>
        </li>
        <li class="navbar__item">
          <a href="controllables.html" class="navbar__links">Controllable Factors</a>
        </li>
        <li class="navbar__item">
          <a href="analysis.html" class="navbar__links">Overall Analysis</a>
        </li>
        <li class="navbar__btn">
          <a href="predictor.html" class="button">Test Our Prediction!</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Patient Similarity Network Image -->
  <div class="graph-wrapper">
    <h2>Patient Similarity Network</h2>
    <img src="network.png" alt="Patient Similarity Network" />
  </div>

  <!-- Interactive Altair Chart -->
  <div class="graph-wrapper">
    <h2>Interactive Distribution of Diabetes Prefactors</h2>
    <div id="barplot"></div>
  </div>

  <!-- Embed chart.json from Altair -->
  <script>
    vegaEmbed('#barplot', 'chart.json').catch(console.error);
  </script>

  <!-- Conclusion Section -->
  <section class="conclusion-section">
    <div class="conclusion-container">
      <h2>Conclusions</h2>
      <p>
        The Patient Similarity Network plot visualizes a patient subset of 1,000 individuals, where each node represents a patient and is color-coded according to their diabetes classification: blue for no diabetes, orange for pre-diabetes, and red for diabetes. An <b>equal sample</b> of each of the three diabetes diagnoses was taken for this network plot. Each patient is connected to their most similar peer based on a set of six controllable health attributes: whether they smoked, their physical health level, their mental health level, the presence of fruits and veggies in their diet, their income level, and their education level. Cosine similarity was used to determine similarity.
      </p>
      <p>
        In contrast to the non-diabetic majority, red and orange nodes are sparser and tend to appear on the periphery or in smaller, disconnected clusters. These clusters suggest that patients with diabetes often have distinct profiles. However, the network does not display strong regional concentrations; instead, diabetic individuals are interspersed, often linked to non-diabetic peers. This may reflect shared behaviors or risk factors.
      </p>
      <p>
        The interactive visualization is a stacked bar chart displaying the proportion of diabetes classifications across different age groups in a 10,000-patient sample. The chart is normalized, and dropdown menus allow users to filter based on education, healthcare access, drinking, diet, exercise, and smoking status. Most filter combinations show a clear increase in diabetes prevalence after age 50, emphasizing the need for lifestyle awareness and prevention strategies.
      </p>
    </div>
  </section>
</body>
</html>
